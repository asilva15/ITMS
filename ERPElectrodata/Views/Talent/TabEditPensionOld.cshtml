@model ERPElectrodata.Models.PENSION

@{
    Layout = null;
}

<div style="width:100%; height:542px; display:inline-block; margin-top:10px;">
    <div style="width:100%; display:inline-block;">
        <div style="width:49.4%; float:left;">
            <div style="float:left; width:100%;">
                <div class="titleForm">
                    <div class="title" id="titlePension">@ResourceLanguaje.Resource.PensionTalent</div>
                </div>
                <div class="inBodyForm" style="height:305px; padding-top:10px;" id="divPension">
                
                </div>
            </div>    
            <div style="float:left; height:11px; width:100%;"></div>
            <div style="width:100%; float:left;">
                <div class="titleForm">
                    <div class="title">@ResourceLanguaje.Resource.NewPensionTalent</div>
                </div>
                <div class="inBodyForm" style="height:155px;" id="divContNewPension">
                @using (Html.BeginForm("NewPension", "Pension", FormMethod.Post, new { enctype = "multipart/form-data", id = "FormPersonPension", name = "FormPersonPension", target = "upload_targetPersonPension" }))
                {                
                    <input type="hidden" name="ID_PERS_ENTI" id="ID_PERS_ENTI" value="@ViewBag.ID_PERS_ENTI" />  
                    <div class="divFondoUno">
                        <div class="divSpace2"></div>
                        <div class="divCont2">
                            <div class="editor-label">
                                @ResourceLanguaje.Resource.PensionTalent
                            </div>
                            <div class="editor-field">
                                @Html.EditorFor(model => model.ID_TYPE_PENS)
                            </div>
                        </div>
                        <div class="divSpace2"></div>
                        <div class="divCont2" style="margin-left:-2px;">
                            <div class="editor-label">
                                CUSPP
                            </div>
                            <div class="k-textbox">
                                @Html.EditorFor(model => model.CUSPP)
                            </div>
                        </div>
                    </div>
                    <div class="divFondoDos">
                        <div class="divSpace2"></div>
                        <div class="divCont2" style="margin-left:-2px;">
                            <div class="editor-label">
                                @ResourceLanguaje.Resource.StartDateTalent
                            </div>
                            <div class="editor-field">
                                @Html.EditorFor(model => model.START_DATE)
                                @Html.ValidationMessageFor(model => model.START_DATE)
                            </div>
                        </div>
                    </div>
                    <div class="divFondoUno" style="margin-bottom:5px;">
                        <div class="divSpace2" style="float:right;"></div>
                        <div style="display:inline-block; float:right; margin-top:5px;">
                            <button id="submit" class="k-button">@ResourceLanguaje.Resource.BtnSaveTalent</button>
                        </div>
                    </div>
                }
                <iframe id="upload_targetPersonPension" name="upload_targetPersonPension" src="" style="width:0px;height:0px;border-width:0px;display:none;"></iframe>
                </div>
            </div>
        </div>
        <div style="width:12px; height:1px; float:left;"></div>
        <div style="width:49.5%; float:left;">
            <div style="float:left; width:100%;">
                <div class="titleForm">
                    <div class="title">EPS</div>
                </div>
                <div class="inBodyForm" style="height:305px; padding-top:10px;" id="divEPSalud">
                
                </div>
            </div>    
            <div style="float:left; height:11px; width:100%;"></div>
            <div style="width:100%; float:left;">
                <div class="titleForm">
                    <div class="title">@ResourceLanguaje.Resource.NewEPSTalent</div>
                </div>
                <div class="inBodyForm" style="height:155px;" id="divContNewEPS">
                @using (Html.BeginForm("NewEPSalud", "EPSalud", FormMethod.Post, new { enctype = "multipart/form-data", id = "FormEPSalud", name = "FormEPSalud", target = "upload_targetEPSalud" }))
                {                
                    <input type="hidden" name="ID_PERS_ENTI_EPS" id="ID_PERS_ENTI_EPS" value="@ViewBag.ID_PERS_ENTI" />  
                    <div class="divFondoUno">
                        <div class="divSpace2"></div>
                        <div class="divCont2">
                            <div class="editor-label">
                                Plan
                            </div>
                            <div class="editor-field">
                                <input type="text" name="ID_PLAN_EPS" id="ID_PLAN_EPS" />
                            </div>
                        </div>
                        <div class="divSpace2"></div>
                        <div class="divCont2" style="margin-left:-2px;">
                            <div class="editor-label">
                                @ResourceLanguaje.Resource.FamilyBeneficiariesTalent
                            </div>
                            <div style="margin-top:0px;">
                                <input type="text" name="NUMBER_FAMI" id="NUMBER_FAMI" />
                            </div>
                        </div>
                    </div>
                    <div class="divFondoDos">
                        <div class="divSpace2"></div>
                        <div class="divCont2" style="margin-left:-2px;">
                            <div class="editor-label">
                                @ResourceLanguaje.Resource.StartDate
                            </div>
                            <div class="editor-field">
                                <input type="text" name="START_DATE_EPS" id="START_DATE_EPS" />
                            </div>
                        </div>
                    </div>
                    <div class="divFondoUno" style="margin-bottom:5px;">
                        <div class="divSpace2" style="float:right;"></div>
                        <div style="display:inline-block; float:right; margin-top:5px;">
                            <button id="submitEPS" class="k-button">@ResourceLanguaje.Resource.BtnSave</button>
                        </div>
                    </div>
                }
                <iframe id="upload_targetEPSalud" name="upload_targetEPSalud" src="" style="width:0px;height:0px;border-width:0px;display:none;"></iframe>
                </div>
            </div>
        </div>
    </div>

</div>

<script type="text/javascript"> 
    $(document).ready(function () {
        $("#ID_TYPE_PENS").kendoComboBox({
            dataTextField: "NAM_PENS",
            dataValueField: "ID_TYPE_PENS",
            filter: "contains",
            autoBind: true,
            delay: 500,
            minLength: 0,
            suggest: false,
            dataSource: {
                schema: {
                    data: "Data",
                    total: "Count"
                },
                transport: {
                    read: "/Pension/ListTypePension?var=" + Math.random()
                }
            }
        });
        var ID_TYPE_PENS = $("#ID_TYPE_PENS").data("kendoComboBox");

        var START_DATE = $("#START_DATE").kendoDateTimePicker().data("kendoDateTimePicker");

        $("#divPension").empty();
        $("#divPension").load("/Pension/PanelPensionOld?id=@ViewBag.ID_PERS_ENTI&var=" + Math.random());

        $("#ID_PLAN_EPS").kendoComboBox({
            dataTextField: "NAM_PLAN",
            dataValueField: "ID_PLAN_EPS",
            filter: "contains",
            autoBind: true,
            delay: 500,
            minLength: 0,
            suggest: false,
            dataSource: {
                schema: {
                    data: "data",
                    total: "Count"
                },
                transport: {
                    read: "/EPSalud/ListPlanEPS?var=" + Math.random()
                }
            }
        });
        var ID_TYPE_PENS = $("#ID_PLAN_EPS").data("kendoComboBox");

        $("#NUMBER_FAMI").kendoNumericTextBox({
            min: 0
        });

        var START_DATE_EPS = $("#START_DATE_EPS").kendoDateTimePicker().data("kendoDateTimePicker");

        $("#divEPSalud").empty();
        $("#divEPSalud").load("/EPSalud/PanelEPSalud?id=@ViewBag.ID_PERS_ENTI&var=" + Math.random());
    });
</script>
@model ERPElectrodata.Models.TICKET

@{
    Layout = null;
}

<link rel="stylesheet" href="~/Content/themes/plugin/fullcalendar/fullcalendar.css">
<link rel="stylesheet" href="~/Content/themes/plugin/fullcalendar/fullcalendar.min.css">
<link rel="stylesheet" href="~/Content/themes/plugin/fullcalendar/fullcalendar.print.css" media="print">
<script src="~/Content/themes/plugin/fullcalendar/fullcalendar.min.js"></script>

<script src="~/Content/themes/plugin/toastr/toastr.min.js"></script>
<link href="~/Content/themes/plugin/toastr/toastr.min.css" rel="stylesheet" />

<link href="~/Content/themes/plugin/DataTables/datatables.css" rel="stylesheet" />
<link href="~/Content/themes/plugin/DataTables/Buttons-1.4.2/css/buttons.bootstrap.css" rel="stylesheet" />
<link href="~/Content/themes/plugin/DataTables/DataTables-1.10.16/css/dataTables.bootstrap4.css" rel="stylesheet" />


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />






<script src="~/Content/themes/plugin/DataTables/datatables.js"></script>
<script src="~/Content/themes/plugin/DataTables/Buttons-1.4.2/js/buttons.bootstrap.js"></script>
<script src="~/Content/themes/plugin/DataTables/Buttons-1.4.2/js/dataTables.buttons.js"></script>
<script src="~/Content/themes/plugin/DataTables/DataTables-1.10.16/js/dataTables.bootstrap4.js"></script>

<style>
    .fc-time {
        display: none;
    }

    .fc-title {
        font-weight: bold;
    }
</style>
<!---->
<div class="row">
    <div class="col-md-12">
        <div class="main-card mb-3 card">
            <div class="card-body">
                <div class="card-title" id="titleForm">Reporte de Tareas</div>
                <fieldset>
                    <div class="form-row">
                        <div class="col-md-12">
                            <div class="position-relative form-group">
                                <table id="tbDocumentos" class="table table-bordered table-striped table-responsive-lg">
                                    <thead style="background: linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%) !important; color: white; ">
                                        <tr>
                                            @*<th>Id</th>*@
                                            <th> Ticket </th>
                                            <th> Gestion </th>
                                            <th> Fecha de Creación </th>
                                            <th> Fecha de Realización </th>
                                            <th> Area Responsable </th>
                                            <th> Persona que hizo la gestión </th>
                                            <th> Usuario afectado </th>
                                            <th> Sede </th>
                                            <th> Descripcion de Tarea </th>
                                            <th> Estado </th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                    <tfoot style="background: linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%) !important; color: white; ">
                                        <tr>
                                            @*<th>Id</th>*@
                                            <th> Ticket </th>
                                            <th> Gestion </th>
                                            <th> Fecha de Creación </th>
                                            <th> Fecha de Realización </th>
                                            <th> Area Responsable </th>
                                            <th> Persona que hizo la gestión </th>
                                            <th> Usuario afectado </th>
                                            <th> Sede </th>
                                            <th> Descripcion de Tarea </th>
                                            <th> Estado </th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>



<script type="text/javascript">

    $(document).ready(function () {
        $("#SUMMARY").addClass("form-control");
        ListarTablaDocumentos();
    });


    function ListarTablaDocumentos() {
        $('#tbDocumentos').dataTable().fnDestroy();
        var table = $('#tbDocumentos').dataTable({

            "order": [[0, 'asc']],
            responsive: true,
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.10.16/i18n/Spanish.json"
            },
            dom: 'lBfrtip',
            buttons: [
                {
                    extend: 'excelHtml5',
                    text: '<i class="fa fa-file-excel-o"> Exportar Excel</i>',
                    titleAttr: 'Excel'
                },
            ],

            "bPaginate": true,
            "searching": true,

            ajax: {
                "url": "/Ticket/ListadoReporteTarea",
                "data": function (d) { }

               
            },
            columns: [

                { data: "Ticket" },
                { data: "TipoGestion" },
                { data: "FechaCreacion" },
                { data: "FechaFin" },
                { data: "AreaResponsable" },
                { data: "Nombre" },
                { data: "UsuarioAfectado" },
                { data: "Sede" },
                { data: "DescripcionTarea" },
                { data: "Estado" }

            ],


        });

    }

</script>